@[TOC](第三章 词法分析)

+ 词法分析是编译的第一个阶段，在单词的级别上分析和翻译源程序。
+ 理论基础：
    + 有限自动机理论
    + 有限自动机理论与正规文法、正规式之间在描述语言方面有一一对应的关系。
+ 学习目标：
    + 掌握有限自动机与正规文法、正规式之间的转换。
    + 能够构造词法分析程序。

# 第一节正规文法和有限自动机

## 一、正规文法、正规集与正规式

1.正规文法

	+ 是Chomsky3型文法

正规文法是描述正规集的文法，可用于描述程序设计语言的语法部分。例如：标识符这种单词可以用下面的规则描述。

	+ <标识符> -> <字母>|<标识符>(<字母>|<数字>)
	+ <字母>表示任意英文字母，<数字>表示任意数字

-------

2.正规文法、正规集与正规式

+ 由正规文法产生的语言。
+ 正规集是集合，可有穷也可无穷。可通过正规式来形式化表示。

----

3.正规式

+ 设A是非空的有限字母表，A={a~i~|i=1,2,……n},则1，ε，Φ和a~i~都是正规式。
+ 若α，β是正规式，则α|β，α·β，α\*，β\*也是正规式。
+ 正规式只能通过有限次使用1，2规则获得。

仅由字母表A={a~i~|i=1,2,……n}上的正规式α所组成的语言称作正规集，记作L(α)。

利用正规集相同，可用来成名相应正规式等价。

-----

4.三个概念间关系

+ 一个正规语言可以用正规文法定义，也可以用正规式定义，对任意一个正规文法，存在一个定义同一个语言的正规式；同样，对每个正规式，存在一个生成同一语言的正规文法；有些正规语言很容易用文法定义，有些则用正规式更容易；两者之间是可以转换的，结构上具有等价性。
+ 由正规文法或正规式定义的正规语言的集合构成正规集。

![1571235647421](C:\Users\85723\AppData\Roaming\Typora\typora-user-images\1571235647421.png)

eg：证明b(ab)\*=(ba)\*b

证明：∵L(b(ab)\*)={b,bab,babab,……}

​			  L(b(ab)\*)={b,bab,babab,……}

​			又∵正规集的前n项相同

​			∴可知它们的正规集是相等的

​			故：正规式b(ab)\*=(ba)\*b

---

5.定理

定理1：

若α，β，γ是正规式则下述等价式成立

![1571236252478](C:\Users\85723\AppData\Roaming\Typora\typora-user-images\1571236252478.png)

定理2：

若α、β、γ是字母表A上的正规式，且ε∉L(γ)，则

α=β|αγ当且仅当α=βγ\*

α=β|γα当且仅当α=γ\*β

---

6.正规文法转换成相应正规式

其步骤为：

+ 1.由正规文法G的各个产生式写出对应的正规方程，得到联立方程组。
+ 2.把方程组中的非终结符当作变元。
+ 3.求此正规式方程组的解，得到关于开始符号S的解：S=w，w∈V~T~*，w就是所求正规式。

eg：已知正规文法G1的产生式，求出它所定义的正规式。

​	产生式为：S -> aS|aB

​					   B -> bB|bA

​					   A -> cA|c

解：1.由产生式写出对应的联立方程组

S = aS|aB           …… （1）

B = bB|bA          …… （2）

A = cA|c              ……（3）

2.根据定理2

由（1）S = aS|aB得：S=a*aB=a^+^B(4)

同理，由（2）B = bB|bA得：B=b^+^A(5)

同理，由（3）A = cA|c 得：A=c^*^c=c^*^(6)

逐步代入得：B=b^+^c^+^

​					   S=a^+^b^+^c^+^

-----

## 二、有限自动机

1.有限自动机

+ 有限自动机是一种识别装置，它能准确地识别正规集。它为词法分析程序的构造提供了方法和工具。
+ 有限自动机是具有离散输入输出系统的数学模型。它具有有限数目的内部状态，系统可以根据当前所处的状态和面临的输入字符决定系统的后继行为。其当前状态概括了过去输入处理的信息。

-----

2.有限自动机模型

![1571237707782](C:\Users\85723\AppData\Roaming\Typora\typora-user-images\1571237707782.png)

状态分为初始状态、中间状态和终止状态。终止状态可以有若干个，而初始状态一般只有一个。

![1571237760734](C:\Users\85723\AppData\Roaming\Typora\typora-user-images\1571237760734.png)

